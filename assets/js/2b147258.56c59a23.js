"use strict";(self.webpackChunkspring=self.webpackChunkspring||[]).push([[46201],{3905:function(t,e,n){n.d(e,{Zo:function(){return m},kt:function(){return c}});var a=n(67294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var l=a.createContext({}),d=function(t){var e=a.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):p(p({},e),t)),n},m=function(t){var e=d(t.components);return a.createElement(l.Provider,{value:e},t.children)},k={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},N=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,l=t.parentName,m=o(t,["components","mdxType","originalType","parentName"]),N=d(n),c=r,f=N["".concat(l,".").concat(c)]||N[c]||k[c]||i;return n?a.createElement(f,p(p({ref:e},m),{},{components:n})):a.createElement(f,p({ref:e},m))}));function c(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,p=new Array(i);p[0]=N;var o={};for(var l in e)hasOwnProperty.call(e,l)&&(o[l]=e[l]);o.originalType=t,o.mdxType="string"==typeof t?t:r,p[1]=o;for(var d=2;d<i;d++)p[d]=n[d];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}N.displayName="MDXCreateElement"},5811:function(t,e,n){n.r(e),n.d(e,{assets:function(){return m},contentTitle:function(){return l},default:function(){return c},frontMatter:function(){return o},metadata:function(){return d},toc:function(){return k}});var a=n(87462),r=n(63366),i=(n(67294),n(3905)),p=["components"],o={},l=void 0,d={unversionedId:"VI. Deploying Spring Boot Applications/61.2.3 Customizing the Startup Script",id:"VI. Deploying Spring Boot Applications/61.2.3 Customizing the Startup Script",title:"61.2.3 Customizing the Startup Script",description:"61.2.3 \u81ea\u5b9a\u4e49\u542f\u52a8\u811a\u672c",source:"@site/docs/VI. Deploying Spring Boot Applications/61.2.3 Customizing the Startup Script.md",sourceDirName:"VI. Deploying Spring Boot Applications",slug:"/VI. Deploying Spring Boot Applications/61.2.3 Customizing the Startup Script",permalink:"/Spring-Boot-Reference-Guide/docs/VI. Deploying Spring Boot Applications/61.2.3 Customizing the Startup Script",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/VI. Deploying Spring Boot Applications/61.2.3 Customizing the Startup Script.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"61.2.2 Installation as a systemd Service",permalink:"/Spring-Boot-Reference-Guide/docs/VI. Deploying Spring Boot Applications/61.2.2 Installation as a systemd Service"},next:{title:"61.3 Microsoft Windows Services",permalink:"/Spring-Boot-Reference-Guide/docs/VI. Deploying Spring Boot Applications/61.3 Microsoft Windows Services"}},m={},k=[{value:"61.2.3 \u81ea\u5b9a\u4e49\u542f\u52a8\u811a\u672c",id:"6123-\u81ea\u5b9a\u4e49\u542f\u52a8\u811a\u672c",level:3}],N={toc:k};function c(t){var e=t.components,n=(0,r.Z)(t,p);return(0,i.kt)("wrapper",(0,a.Z)({},N,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"6123-\u81ea\u5b9a\u4e49\u542f\u52a8\u811a\u672c"},"61.2.3 \u81ea\u5b9a\u4e49\u542f\u52a8\u811a\u672c"),(0,i.kt)("p",null,"Maven\u6216Gradle\u63d2\u4ef6\u751f\u6210\u7684\u9ed8\u8ba4\u5185\u5d4c\u542f\u52a8\u811a\u672c\u53ef\u4ee5\u901a\u8fc7\u5f88\u591a\u65b9\u6cd5\u81ea\u5b9a\u4e49\uff0c\u5bf9\u4e8e\u5927\u591a\u6570\u5f00\u53d1\u8005\uff0c\u4f7f\u7528\u9ed8\u8ba4\u811a\u672c\u548c\u4e00\u4e9b\u81ea\u5b9a\u4e49\u901a\u5e38\u5c31\u8db3\u591f\u4e86\u3002\u5982\u679c\u53d1\u73b0\u4e0d\u80fd\u81ea\u5b9a\u4e49\u9700\u8981\u7684\u4e1c\u897f\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"embeddedLaunchScript"),"\u9009\u9879\u751f\u6210\u81ea\u5df1\u7684\u6587\u4ef6\u3002"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u5728\u811a\u672c\u751f\u6210\u65f6\u81ea\u5b9a\u4e49")),(0,i.kt)("p",null,"\u81ea\u5b9a\u4e49\u5199\u5165jar\u6587\u4ef6\u7684\u542f\u52a8\u811a\u672c\u5143\u7d20\u662f\u6709\u610f\u4e49\u7684\u3002\u4f8b\u5982\uff0c\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"init.d"),"\u811a\u672c\u63d0\u4f9b\u201cdescription\u201d\uff0c\u65e2\u7136\u77e5\u9053\u8fd9\u4f1a\u5c55\u793a\u5230\u524d\u7aef\uff08\u5e76\u4e14\uff0c\u5b83\u4e0d\u9700\u6539\u53d8\uff09\uff0c\u4f60\u53ef\u80fd\u4f1a\u5728\u751f\u6210jar\u65f6\u63d0\u4f9b\u5b83\u3002"),(0,i.kt)("p",null,"\u4e3a\u4e86\u81ea\u5b9a\u4e49\u5199\u5165\u7684\u5143\u7d20\uff0c\u4f60\u9700\u8981\u4e3aSpring Boot Maven\u6216Gradle\u63d2\u4ef6\u6307\u5b9a",(0,i.kt)("inlineCode",{parentName:"p"},"embeddedLaunchScriptProperties"),"\u9009\u9879\u3002"),(0,i.kt)("p",null,"\u4ee5\u4e0b\u662f\u9ed8\u8ba4\u811a\u672c\u652f\u6301\u7684\u53ef\u4ee3\u66ff\u5c5e\u6027\uff1a"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"\u540d\u79f0"),(0,i.kt)("th",{parentName:"tr",align:"left"},"\u63cf\u8ff0"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"mode")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u811a\u672c\u6a21\u5f0f\uff0c\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"auto"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"initInfoProvides")),(0,i.kt)("td",{parentName:"tr",align:"left"},"'INIT INFO'\u90e8\u5206\u7684",(0,i.kt)("inlineCode",{parentName:"td"},"Provides"),"\uff0c\u5bf9\u4e8eGradle\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"spring-boot-application"),"\uff0c\u5bf9\u4e8eMaven\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"${project.artifactId}"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"initInfoRequiredStart")),(0,i.kt)("td",{parentName:"tr",align:"left"},"'INIT INFO'\u90e8\u5206\u7684",(0,i.kt)("inlineCode",{parentName:"td"},"Required-Start"),"\uff0c\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"$remote_fs $syslog $network"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"initInfoRequiredStop")),(0,i.kt)("td",{parentName:"tr",align:"left"},"'INIT INFO'\u90e8\u5206\u7684",(0,i.kt)("inlineCode",{parentName:"td"},"Required-Stop"),"\uff0c\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"$remote_fs $syslog $network"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"initInfoDefaultStart")),(0,i.kt)("td",{parentName:"tr",align:"left"},"'INIT INFO'\u90e8\u5206\u7684",(0,i.kt)("inlineCode",{parentName:"td"},"Default-Start"),"\uff0c\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"2 3 4 5"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"initInfoDefaultStop")),(0,i.kt)("td",{parentName:"tr",align:"left"},"'INIT INFO'\u90e8\u5206\u7684",(0,i.kt)("inlineCode",{parentName:"td"},"Default-Stop"),"\uff0c\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"0 1 6"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"initInfoShortDescription")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u2018INIT INFO\u2019\u90e8\u5206\u7684",(0,i.kt)("inlineCode",{parentName:"td"},"Short-Description"),"\uff0c\u5bf9\u4e8eGradle\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"Spring Boot Application"),"\uff0c\u5bf9\u4e8eMaven\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"${project.name}"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"initInfoDescription")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u201cINIT INFO\u201d\u90e8\u5206\u7684",(0,i.kt)("inlineCode",{parentName:"td"},"Description"),"\uff0c\u5bf9\u4e8eGradle\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"Spring Boot Application"),"\uff0c\u5bf9\u4e8eMaven\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"${project.description}"),"\uff08\u5931\u8d25\u4f1a\u56de\u9000\u5230",(0,i.kt)("inlineCode",{parentName:"td"},"${project.name}"),"\uff09")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"initInfoChkconfig")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u201cINIT INFO\u201d\u90e8\u5206\u7684",(0,i.kt)("inlineCode",{parentName:"td"},"chkconfig"),"\uff0c\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"2345 99 01"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"confFolder")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"CONF_FOLDER"),"\u7684\u9ed8\u8ba4\u503c\uff0c\u9ed8\u8ba4\u4e3a\u5305\u542bjar\u7684\u6587\u4ef6\u5939")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"inlinedConfScript")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u5bf9\u5e94\u8be5\u5185\u8054\u5230\u9ed8\u8ba4\u542f\u52a8\u811a\u672c\u4e2d\u7684\u6587\u4ef6\u811a\u672c\u7684\u5f15\u7528\u3002\u8fd9\u53ef\u4ee5\u7528\u6765\u5728\u52a0\u8f7d\u4efb\u4f55\u5916\u90e8\u914d\u7f6e\u6587\u4ef6\u4e4b\u524d\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u6bd4\u5982",(0,i.kt)("inlineCode",{parentName:"td"},"JAVA_OPTS"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"logFolder")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"LOG_FOLDER"),"\u7684\u9ed8\u8ba4\u503c\uff0c\u53ea\u5bf9",(0,i.kt)("inlineCode",{parentName:"td"},"init.d"),"\u670d\u52a1\u6709\u6548")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"logFilename")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"LOG_FILENAME"),"\u7684\u9ed8\u8ba4\u503c\uff0c\u53ea\u5bf9",(0,i.kt)("inlineCode",{parentName:"td"},"init.d"),"\u670d\u52a1\u6709\u6548")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"pidFolder")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"PID_FOLDER"),"\u7684\u9ed8\u8ba4\u503c\uff0c\u53ea\u5bf9",(0,i.kt)("inlineCode",{parentName:"td"},"init.d"),"\u670d\u52a1\u6709\u6548")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"pidFilename")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"PID_FOLDER"),"\u91ccpid\u6587\u4ef6\u540d\u7684\u9ed8\u8ba4\u503c\uff0c\u53ea\u5bf9",(0,i.kt)("inlineCode",{parentName:"td"},"init.d"),"\u670d\u52a1\u6709\u6548")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"useStartStopDaemon")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u5982\u679c",(0,i.kt)("inlineCode",{parentName:"td"},"start-stop-daemon"),"\u547d\u4ee4\u53ef\u7528\uff0c\u5b83\u4f1a\u63a7\u5236\u8be5\u5b9e\u4f8b\uff0c\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"true"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"stopWaitTime")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"STOP_WAIT_TIME"),"\u7684\u9ed8\u8ba4\u503c\uff0c\u53ea\u5bf9",(0,i.kt)("inlineCode",{parentName:"td"},"init.d"),"\u670d\u52a1\u6709\u6548\u3002\u9ed8\u8ba4\u523060\u79d2")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u5728\u811a\u672c\u8fd0\u884c\u65f6\u81ea\u5b9a\u4e49")),(0,i.kt)("p",null,"\u5bf9\u4e8e\u9700\u8981\u5728jar\u6587\u4ef6\u751f\u6210\u540e\u81ea\u5b9a\u4e49\u7684\u9879\u76ee\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u6216\u914d\u7f6e\u6587\u4ef6\u3002"),(0,i.kt)("p",null,"\u9ed8\u8ba4\u811a\u672c\u652f\u6301\u4ee5\u4e0b\u73af\u5883\u53d8\u91cf\uff1a"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"\u53d8\u91cf"),(0,i.kt)("th",{parentName:"tr",align:"left"},"\u63cf\u8ff0"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"MODE")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u64cd\u4f5c\u7684\u6a21\u5f0f\uff0c\u9ed8\u8ba4\u503c\u4f9d\u8d56\u4e8ejar\u6784\u5efa\u65b9\u5f0f\uff0c\u901a\u5e38\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"auto"),"\uff08\u610f\u5473\u7740\u5b83\u4f1a\u5c1d\u8bd5\u901a\u8fc7\u68c0\u67e5\u5b83\u662f\u5426\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"init.d"),"\u76ee\u5f55\u7684\u8f6f\u8fde\u63a5\u6765\u63a8\u65ad\u8fd9\u662f\u4e0d\u662f\u4e00\u4e2ainit\u811a\u672c\uff09\u3002\u4f60\u53ef\u4ee5\u663e\u5f0f\u5c06\u5b83\u8bbe\u7f6e\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"service"),"\uff0c\u8fd9\u6837`stop")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"USE_START_STOP_DAEMON")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u5982\u679c",(0,i.kt)("inlineCode",{parentName:"td"},"start-stop-daemon"),"\u547d\u4ee4\u53ef\u7528\uff0c\u5b83\u5c06\u88ab\u7528\u6765\u63a7\u5236\u8be5\u5b9e\u4f8b\uff0c\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"true"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"PID_FOLDER")),(0,i.kt)("td",{parentName:"tr",align:"left"},"pid\u6587\u4ef6\u5939\u7684\u6839\u76ee\u5f55\uff08\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"/var/run"),"\uff09")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"LOG_FOLDER")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u5b58\u653e\u65e5\u5fd7\u6587\u4ef6\u7684\u6587\u4ef6\u5939\uff08\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"/var/log"),"\uff09")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"CONF_FOLDER")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u8bfb\u53d6",(0,i.kt)("inlineCode",{parentName:"td"},".conf"),"\u6587\u4ef6\u7684\u6587\u4ef6\u5939")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"LOG_FILENAME")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u5b58\u653e\u4e8e",(0,i.kt)("inlineCode",{parentName:"td"},"LOG_FOLDER"),"\u7684\u65e5\u5fd7\u6587\u4ef6\u540d\uff08\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"<appname>.log"),"\uff09")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"APP_NAME")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u5e94\u7528\u540d\uff0c\u5982\u679cjar\u8fd0\u884c\u81ea\u4e00\u4e2a\u8f6f\u8fde\u63a5\uff0c\u811a\u672c\u4f1a\u731c\u6d4b\u5b83\u7684\u5e94\u7528\u540d\u3002\u5982\u679c\u4e0d\u662f\u8f6f\u8fde\u63a5\uff0c\u6216\u4f60\u60f3\u663e\u5f0f\u8bbe\u7f6e\u5e94\u7528\u540d\uff0c\u8fd9\u5c31\u5f88\u6709\u7528\u4e86")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"RUN_ARGS")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u4f20\u9012\u7ed9\u7a0b\u5e8f\u7684\u53c2\u6570\uff08Spring Boot\u5e94\u7528\uff09")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"JAVA_HOME")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u9ed8\u8ba4\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"td"},"PATH"),"\u6307\u5b9a",(0,i.kt)("inlineCode",{parentName:"td"},"java"),"\u7684\u4f4d\u7f6e\uff0c\u4f46\u5982\u679c\u5728",(0,i.kt)("inlineCode",{parentName:"td"},"$JAVA_HOME/bin/java"),"\u6709\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8be5\u5c5e\u6027\u663e\u5f0f\u8bbe\u7f6e")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"JAVA_OPTS")),(0,i.kt)("td",{parentName:"tr",align:"left"},"JVM\u542f\u52a8\u65f6\u4f20\u9012\u7684\u914d\u7f6e\u9879")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"JARFILE")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u5728\u811a\u672c\u542f\u52a8\u6ca1\u5185\u5d4c\u5176\u5185\u7684jar\u6587\u4ef6\u65f6\u663e\u5f0f\u8bbe\u7f6ejar\u4f4d\u7f6e")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"DEBUG")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u5982\u679cshell\u5b9e\u4f8b\u7684",(0,i.kt)("inlineCode",{parentName:"td"},"-x"),"\u6807\u8bc6\u6709\u8bbe\u503c\uff0c\u5219\u4f60\u80fd\u8f7b\u677e\u770b\u5230\u811a\u672c\u7684\u5904\u7406\u903b\u8f91")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"STOP_WAIT_TIME")),(0,i.kt)("td",{parentName:"tr",align:"left"},"\u5f3a\u5236\u5173\u95ed\u5e94\u7528\u4e4b\u524d\u7684\u7b49\u5f85\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2\uff08\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"60"),"\u79d2\uff09")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u6ce8")," ",(0,i.kt)("inlineCode",{parentName:"p"},"PID_FOLDER"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"LOG_FOLDER"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"LOG_FILENAME"),"\u53d8\u91cf\u53ea\u5bf9",(0,i.kt)("inlineCode",{parentName:"p"},"init.d"),"\u670d\u52a1\u6709\u6548\u3002\u5bf9\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"systemd"),"\u7b49\u4ef7\u7684\u81ea\u5b9a\u4e49\u65b9\u5f0f\u662f\u4f7f\u7528\u2018service\u2019\u811a\u672c\u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605",(0,i.kt)("a",{parentName:"p",href:"https://www.freedesktop.org/software/systemd/man/systemd.service.html"},"\u670d\u52a1\u5355\u5143\u914d\u7f6e\u624b\u518c\u9875"),"\u3002"),(0,i.kt)("p",null,"\u5982\u679c",(0,i.kt)("inlineCode",{parentName:"p"},"JARFILE"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"APP_NAME"),"\u51fa\u73b0\u5f02\u5e38\uff0c\u4e0a\u9762\u7684\u8bbe\u7f6e\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},".conf"),"\u6587\u4ef6\u8fdb\u884c\u914d\u7f6e\u3002\u8be5\u6587\u4ef6\u9884\u671f\u662f\u653e\u5230\u8ddfjar\u6587\u4ef6\u4e34\u8fd1\u7684\u5730\u65b9\uff0c\u5e76\u4e14\u540d\u5b57\u76f8\u540c\uff0c\u4f46\u540e\u7f00\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},".conf"),"\u800c\u4e0d\u662f",(0,i.kt)("inlineCode",{parentName:"p"},".jar"),"\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u547d\u540d\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"/var/myapp/myapp.jar"),"\u7684jar\u5c06\u4f7f\u7528\u540d\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"/var/myapp/myapp.conf"),"\u7684\u914d\u7f6e\u6587\u4ef6\uff1a"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"myapp.conf")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-properties"},"JAVA_OPTS=-Xmx1024M\nLOG_FOLDER=/custom/log/folder\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u6ce8")," \u5982\u679c\u4e0d\u559c\u6b22\u914d\u7f6e\u6587\u4ef6\u653e\u5230jar\u9644\u8fd1\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"CONF_FOLDER"),"\u73af\u5883\u53d8\u91cf\u6307\u5b9a\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002"),(0,i.kt)("p",null,"\u60f3\u8981\u5b66\u4e60\u5982\u4f55\u6b63\u786e\u7684\u4fdd\u62a4\u6587\u4ef6\u53ef\u4ee5\u53c2\u8003",(0,i.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/htmlsingle/#deployment-initd-service-securing"},"the guidelines for securing an init.d service."),"\u3002"))}c.isMDXComponent=!0}}]);